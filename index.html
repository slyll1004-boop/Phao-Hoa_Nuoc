<!DOCTYPE html>
<html lang="vi">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ph√°o Hoa N∆∞·ªõc K·ª≥ Di·ªáu</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(#eef4ff, #ffffff);
  text-align: center;
}

h1 {
  margin-top: 18px;
}

#items, #slots {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 14px;
  margin: 20px;
}

.item, .slot {
  width: 100px;
  height: 120px;
  border: 3px dashed #90caf9;
  border-radius: 20px;
  background: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.item {
  cursor: grab;
  box-shadow: 0 4px 8px rgba(0,0,0,0.12);
}

.item img {
  width: 60px;
  height: auto;
}

.symbol {
  font-size: 36px;
  font-weight: bold;
}

.label {
  margin-top: 6px;
  font-size: 13px;
  color: #444;
}

.correct {
  background: #e3f2fd !important;
  border-color: #42a5f5 !important;
}

#result {
  display: none;
  margin-top: 25px;
  font-size: 20px;
  color: #1565c0;
}

button {
  margin-top: 20px;
  padding: 12px 30px;
  border-radius: 30px;
  border: none;
  background: #ff9800;
  color: white;
  font-size: 18px;
}
</style>
</head>
<style>
  item {
  touch-action: none;
  user-select: none;
}

</style>
<body>

<h1>üéÜ S·ª∞ K√å DI·ªÜU C·ª¶A PH√ÅO HOA </h1>
<p>K√©o th·∫£ c√°c v·∫≠t ƒë·ªÉ t·∫°o ra ph√°o hoa n∆∞·ªõc</p>

<!-- V·∫¨T LI·ªÜU -->
<div id="items">
  <div class="item" draggable="true" data-value="oil">
    <img src="chai_dau.jpg" 
   class="item">
    <div class="label">D·∫ßu ƒÉn</div>
  </div>

  <div class="item" draggable="true" data-value="+">
    <img src="kong.jpg"
     class="item">
    <div class="label">C·ªông</div>
  </div>

  <div class="item" draggable="true" data-value="+">
    <img src="kong.jpg"
    class="item">
    <div class="label">C·ªông</div>
  </div>
  
  <div class="item" draggable="true" data-value="water">
    <img src="nuoc.jpg"
    d class="item">
    <div class="label">N∆∞·ªõc</div>
  </div>

  <div class="item" draggable="true" data-value="water">
    <img src="ly_nhua.jpg" 
     class="item">
    <div class="label">Ly nh·ª±a</div>
  </div>

  <div class="item" draggable="true" data-value="+">
    <img src="kong.jpg"
    class="item">
    <div class="label">C·ªông</div>
  </div>

  <div class="item" draggable="true" data-value="color">
    <img src="giot_mau.jpg" 
    class="item">
    <div class="label">M√†u</div>
  </div>

  <div class="item" draggable="true" data-value="+">
    <img src="kong.jpg" 
    class="item">
    <div class="label">C·ªông</div>
  </div>

  <div class="item" draggable="true" data-value="tablet">
   <img src="xui.jpg"class="item">>
    <div class="label">Vi√™n s·ªßi</div>
  </div>

  <div class="item" draggable="true" data-value="=">
   <img src="bang.jpg" 
    class="item">
    <div class="label">D·∫•u b·∫±ng</div>
  </div>

  <div class="item" draggable="true" data-value="firework">
   <img src="phao-hoa_nuoc.jpg"
    class="item">
    <div class="label">Ph√°o hoa n∆∞·ªõc</div>
  </div>
  
<!-- √î S·∫ÆP X·∫æP -->
<div id="slots">
  <div class="slot"></div><div class="slot"></div><div class="slot"></div>
  <div class="slot"></div><div class="slot"></div><div class="slot"></div>
  <div class="slot"></div><div class="slot"></div><div class="slot"></div><div class="slot"></div><div class="slot"></div>
</div>

<!-- K·∫æT QU·∫¢ -->
<div id="result">
  üåä‚ú® S·ª± k√¨ di·ªáu c·ªßa ph√°o hoa ƒë√£ xu·∫•t hi·ªán!  
</div>

<button onclick="location.reload()">üîÑ Ch∆°i l·∫°i</button>

<script>
function isOverlap(a, b) {
  const r1 = a.getBoundingClientRect();
  const r2 = b.getBoundingClientRect();

  return !(
    r1.right < r2.left ||
    r1.left > r2.right ||
    r1.bottom < r2.top ||
    r1.top > r2.bottom
  );
}

document.addEventListener('touchend', () => {
  if (!activeItem) return;

  document.querySelectorAll('.slot').forEach(slot => {
    if (isOverlap(activeItem, slot)) {
      const type = activeItem.dataset.type;
      const accept = slot.dataset.accept;

      if (type === accept) {
        const r = slot.getBoundingClientRect();
        activeItem.style.left = r.left + 'px';
        activeItem.style.top  = r.top + 'px';
        activeItem.dataset.placed = 'true';
      }
    }
  });

  activeItem = null;

  checkWin();
});

function checkWin() {
  if (buildResult() === "Water","+","water","+","oil","+","Color","+","tablet","=","firework") 
}
</script>

<script>
let activeItem = null;
let offsetX = 0;
let offsetY = 0;

document.querySelectorAll('.item').forEach(item => {
  item.addEventListener('touchstart', e => {
    e.preventDefault();
    activeItem = item;

    const touch = e.touches[0];
    const rect = item.getBoundingClientRect();
    offsetX = touch.clientX - rect.left;
    offsetY = touch.clientY - rect.top;
  });
});

document.addEventListener('touchmove', e => {
  if (!activeItem) return;

  const touch = e.touches[0];
  activeItem.style.position = 'absolute';
  activeItem.style.left = (touch.clientX - offsetX) + 'px';
  activeItem.style.top  = (touch.clientY - offsetY) + 'px';
});

document.addEventListener('touchend', () => {
  activeItem = null;
});
</script>
</body>
</html>
